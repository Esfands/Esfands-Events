{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport { formatTimer } from '../formatters';\nconst useTimer = initialDates => {\n  _s();\n  const [dates, setDates] = useState(initialDates);\n  const [active, setActive] = useState(false);\n  const [seconds, setSeconds] = useState(null);\n  useEffect(() => {\n    if (dates) {\n      const totalMilliseconds = new Date(dates.ends) - new Date(dates.started);\n      const totalSeconds = totalMilliseconds / 1000;\n      setActive(true);\n      setSeconds(totalSeconds);\n    }\n  }, [dates]);\n  useEffect(() => {\n    let ticker;\n    if (active) {\n      if (seconds > 0) {\n        ticker = setTimeout(() => setSeconds(s => s - 1), 1000);\n      } else if (seconds !== null && seconds === 0) {\n        setActive(false);\n      }\n    }\n    return () => clearTimeout(ticker);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [seconds]);\n  const minutes = Math.floor(seconds / 60);\n  const formattedTimer = formatTimer(minutes, seconds);\n  return [formattedTimer, setDates, setActive];\n};\n_s(useTimer, \"0UvHBeYSvQ5DNqHg1w6+taqeEtw=\");\nexport default useTimer;","map":{"version":3,"names":["useEffect","useState","formatTimer","useTimer","initialDates","dates","setDates","active","setActive","seconds","setSeconds","totalMilliseconds","Date","ends","started","totalSeconds","ticker","setTimeout","s","clearTimeout","minutes","Math","floor","formattedTimer"],"sources":["D:/Development/Esfands/Overlays/overlays/events/src/util/hooks/useTimer.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { formatTimer } from '../formatters';\n\nconst useTimer = (initialDates) => {\n  const [dates, setDates] = useState(initialDates);\n  const [active, setActive] = useState(false);\n  const [seconds, setSeconds] = useState(null);\n\n  useEffect(() => {\n    if (dates) {\n      const totalMilliseconds = new Date(dates.ends) - new Date(dates.started);\n      const totalSeconds = totalMilliseconds / 1000;\n\n      setActive(true);\n      setSeconds(totalSeconds);\n    }\n  }, [dates]);\n\n  useEffect(() => {\n    let ticker;\n\n    if (active) {\n      if (seconds > 0) {\n        ticker = setTimeout(() => setSeconds((s) => s - 1), 1000);\n      } else if (seconds !== null && seconds === 0) {\n        setActive(false);\n      }\n    }\n\n    return () => clearTimeout(ticker);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [seconds]);\n\n  const minutes = Math.floor(seconds / 60);\n  const formattedTimer = formatTimer(minutes, seconds);\n\n  return [formattedTimer, setDates, setActive];\n};\n\nexport default useTimer;\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,WAAW,QAAQ,eAAe;AAE3C,MAAMC,QAAQ,GAAIC,YAAY,IAAK;EAAA;EACjC,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,QAAQ,CAACG,YAAY,CAAC;EAChD,MAAM,CAACG,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAC3C,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,IAAI,CAAC;EAE5CD,SAAS,CAAC,MAAM;IACd,IAAIK,KAAK,EAAE;MACT,MAAMM,iBAAiB,GAAG,IAAIC,IAAI,CAACP,KAAK,CAACQ,IAAI,CAAC,GAAG,IAAID,IAAI,CAACP,KAAK,CAACS,OAAO,CAAC;MACxE,MAAMC,YAAY,GAAGJ,iBAAiB,GAAG,IAAI;MAE7CH,SAAS,CAAC,IAAI,CAAC;MACfE,UAAU,CAACK,YAAY,CAAC;IAC1B;EACF,CAAC,EAAE,CAACV,KAAK,CAAC,CAAC;EAEXL,SAAS,CAAC,MAAM;IACd,IAAIgB,MAAM;IAEV,IAAIT,MAAM,EAAE;MACV,IAAIE,OAAO,GAAG,CAAC,EAAE;QACfO,MAAM,GAAGC,UAAU,CAAC,MAAMP,UAAU,CAAEQ,CAAC,IAAKA,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC;MAC3D,CAAC,MAAM,IAAIT,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,CAAC,EAAE;QAC5CD,SAAS,CAAC,KAAK,CAAC;MAClB;IACF;IAEA,OAAO,MAAMW,YAAY,CAACH,MAAM,CAAC;IACjC;EACF,CAAC,EAAE,CAACP,OAAO,CAAC,CAAC;EAEb,MAAMW,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACb,OAAO,GAAG,EAAE,CAAC;EACxC,MAAMc,cAAc,GAAGrB,WAAW,CAACkB,OAAO,EAAEX,OAAO,CAAC;EAEpD,OAAO,CAACc,cAAc,EAAEjB,QAAQ,EAAEE,SAAS,CAAC;AAC9C,CAAC;AAAC,GAlCIL,QAAQ;AAoCd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}
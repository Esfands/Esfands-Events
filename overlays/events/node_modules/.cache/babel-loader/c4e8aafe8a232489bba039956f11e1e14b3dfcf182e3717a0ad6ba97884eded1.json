{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport useWebSocket from './useWebSocket';\nconst initialEvents = {\n  prediction: null,\n  poll: null\n};\nconst useEvents = () => {\n  _s();\n  const [msg, connected] = useWebSocket();\n  const [events, setEvents] = useState(initialEvents);\n  useEffect(() => {\n    if (msg) {\n      setEvents(_events => Object.assign({}, _events, {\n        [msg.eventType]: msg\n      }));\n    }\n  }, [msg]);\n  useEffect(() => {\n    setEvents(initialEvents);\n  }, [connected]);\n  return [events, connected];\n};\n_s(useEvents, \"SBRuK+emjKrJ3gNGcFf8cKmRmTs=\", false, function () {\n  return [useWebSocket];\n});\nexport default useEvents;","map":{"version":3,"names":["useState","useEffect","useWebSocket","initialEvents","prediction","poll","useEvents","msg","connected","events","setEvents","_events","Object","assign","eventType"],"sources":["D:/Development/Esfands/Overlays/overlays/events/src/util/hooks/useEvents.js"],"sourcesContent":["import { useState, useEffect } from 'react';\nimport useWebSocket from './useWebSocket';\n\nconst initialEvents = {\n  prediction: null,\n  poll: null,\n};\n\nconst useEvents = () => {\n  const [msg, connected] = useWebSocket();\n  const [events, setEvents] = useState(initialEvents);\n\n  useEffect(() => {\n    if (msg) {\n      setEvents((_events) =>\n        Object.assign({}, _events, { [msg.eventType]: msg })\n      );\n    }\n  }, [msg]);\n\n  useEffect(() => {\n    setEvents(initialEvents);\n  }, [connected]);\n\n  return [events, connected];\n};\n\nexport default useEvents;\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,YAAY,MAAM,gBAAgB;AAEzC,MAAMC,aAAa,GAAG;EACpBC,UAAU,EAAE,IAAI;EAChBC,IAAI,EAAE;AACR,CAAC;AAED,MAAMC,SAAS,GAAG,MAAM;EAAA;EACtB,MAAM,CAACC,GAAG,EAAEC,SAAS,CAAC,GAAGN,YAAY,EAAE;EACvC,MAAM,CAACO,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAACG,aAAa,CAAC;EAEnDF,SAAS,CAAC,MAAM;IACd,IAAIM,GAAG,EAAE;MACPG,SAAS,CAAEC,OAAO,IAChBC,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,EAAEF,OAAO,EAAE;QAAE,CAACJ,GAAG,CAACO,SAAS,GAAGP;MAAI,CAAC,CAAC,CACrD;IACH;EACF,CAAC,EAAE,CAACA,GAAG,CAAC,CAAC;EAETN,SAAS,CAAC,MAAM;IACdS,SAAS,CAACP,aAAa,CAAC;EAC1B,CAAC,EAAE,CAACK,SAAS,CAAC,CAAC;EAEf,OAAO,CAACC,MAAM,EAAED,SAAS,CAAC;AAC5B,CAAC;AAAC,GAjBIF,SAAS;EAAA,QACYJ,YAAY;AAAA;AAkBvC,eAAeI,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}